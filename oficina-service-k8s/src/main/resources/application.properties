# ===============================================================
# GENERAL APPLICATION CONFIGURATION
# ===============================================================
server.port=8080

# ===============================================================
# DATABASE CONFIGURATION (PostgreSQL)
# ===============================================================
spring.datasource.url=jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASS}
spring.datasource.driver-class-name=org.postgresql.Driver

# ===============================================================
# JPA / HIBERNATE CONFIGURATION
# ===============================================================
spring.jpa.hibernate.ddl-auto=${JPA_DDL_AUTO:update}
spring.jpa.show-sql=${SHOW_SQL:true}
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ===============================================================
# SECURITY CONFIGURATION (JWT)
# ===============================================================
jwt.secret=${JWT_SECRET}
jwt.expiration.ms=3600000

# ===============================================================
# EMAIL CONFIGURATION (SMTP)
# ===============================================================
spring.mail.host=${MAIL_HOST}
spring.mail.port=${MAIL_PORT}
spring.mail.username=${MAIL_USER}
spring.mail.password=${MAIL_PASS}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# ===============================================================
# SWAGGER CONFIGURATION (OpenAPI)
# ===============================================================
springdoc.api-docs.path=/api-docs

# ===============================================================
# ACTUATOR CONFIGURATION
# ===============================================================
management.endpoint.health.show-details=always
management.health.mail.enabled=false
management.endpoints.web.exposure.include=health,info,metrics,prometheus,env,loggers
management.endpoint.health.probes.enabled=true
management.health.livenessState.enabled=true
management.health.readinessState.enabled=true

# MÃ©tricas customizadas
management.metrics.enable.jvm=true
management.metrics.enable.process=true
management.metrics.enable.system=true
management.metrics.enable.http=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.tags.application=oficina-service
management.metrics.tags.environment=${ENVIRONMENT:dev}

# New Relic Integration
newrelic.config.distributed_tracing.enabled=true
newrelic.config.app_name=oficina-service-${ENVIRONMENT:dev}

springdoc.swagger-ui.path=/swagger-ui.html

# ===============================================================
# SECURITY OVERRIDE (para testes de carga / seed sem autenticacao)
# ===============================================================
security.disabled=${SECURITY_DISABLED:false}
